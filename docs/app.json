[{"name":"app.R","content":"\r\n#install.packages(\"googlesheets4\")\r\n#install.packages(\"ggplot2\")\r\n#install.packages(\"shiny\")\r\n#install.packages(\"shinylive\",\"httpuv\")\r\n\r\nlibrary(googlesheets4)\r\nlibrary(dplyr)\r\nlibrary(shiny)\r\nlibrary(DT)\r\nlibrary(rsconnect)\r\nlibrary(shinylive)\r\n\r\ngs4_deauth() #<--use only for googlesheets shared as 'anyone with the link'\r\n\r\nbok_indx <- read_sheet(\"https://docs.google.com/spreadsheets/d/1RDLRFS7o2lSLsIRJAjd-cVXQDt_Q1XiDxIQ_ZC6_VDs/edit?usp=sharing\", sheet =\"Index\")\r\n\r\ntot_chaps <- prettyNum(sum(bok_indx$Total_Chapters),big.mark=',',scientific=F)\r\ntot_vers <- prettyNum(sum(bok_indx$Total_Verses),big.mark=',',scientific=F)\r\n\r\n#### Global.R part ####\r\n\r\nbooks <- list(\"01-创世记 | Genesis\"             = \"01-创世记\",\r\n               \"02-出埃及记 | Exodus\"            = \"02-出埃及记\",\r\n               \"03-利未记 | Leviticus\"           = \"03-利未记\",\r\n               \"04-民数记 | Numbers\"             = \"04-民数记\",\r\n               \"05-申命记 | Deuteronomy\"         = \"05-申命记\",\r\n               \"06-约书亚记 | Joshua\"            = \"06-约书亚记\",\r\n               \"07-士师记 | Judges\"              = \"07-士师记\",\r\n               \"08-路得记 | Ruth\"                = \"08-路得记\",\r\n               \"09-撒母耳记上 | First Samuel\"    = \"09-撒母耳记上\",\r\n               \"10-撒母耳记下 | Second Samuel\"   = \"10-撒母耳记下\",\r\n               \"11-列王纪上 | First Kings\"       = \"11-列王纪上\",\r\n               \"12-列王纪下 | Second Kings\"      = \"12-列王纪下\",\r\n               \"13-历代志上 | First Chronicles\"  = \"13-历代志上\",\r\n               \"14-历代志下 | Second Chronicles\" = \"14-历代志下\",\r\n               \"15-以斯拉记 | Ezra\"              = \"15-以斯拉记\",\r\n               \"16-尼希米记 | Nehemiah\"          = \"16-尼希米记\",\r\n               \"17-以斯帖记 | Esther\"            = \"17-以斯帖记\",\r\n               \"18-约伯记 | Job\"                 = \"18-约伯记\",\r\n               \"19-诗篇 | Psalms\"                = \"19-诗篇\",\r\n               \"20-箴言 | Proverbs\"              = \"20-箴言\",\r\n               \"21-传道书 | Ecclesiastes\"        = \"21-传道书\",\r\n               \"22-雅歌 | Song of Solomon\"       = \"22-雅歌\",\r\n               \"23-以赛亚书 | Isaiah\"            = \"23-以赛亚书\",\r\n               \"24-耶利米书 | Jeremiah\"          = \"24-耶利米书\",\r\n               \"25-耶利米哀歌 | Lamentations\"    = \"25-耶利米哀歌\",\r\n               \"26-以西结书 | Ezekiel\"           = \"26-以西结书\",\r\n               \"27-但以理书 | Daniel\"            = \"27-但以理书\",\r\n               \"28-何西阿书 | Hosea\"             = \"28-何西阿书\",\r\n               \"29-约珥书 | Joel\"                = \"29-约珥书\",\r\n               \"30-阿摩司书 | Amos\"              = \"30-阿摩司书\",\r\n               \"31-俄巴底亚书 | Obadiah\"         = \"31-俄巴底亚书\",\r\n               \"32-约拿书 | Jonah\"               = \"32-约拿书\",\r\n               \"33-弥迦书 | Micah\"               = \"33-弥迦书\",\r\n               \"34-那鸿书 | Nahum\"               = \"34-那鸿书\",\r\n               \"35-哈巴谷书 | Habakkuk\"          = \"35-哈巴谷书\",\r\n               \"36-西番雅书 | Zephaniah\"         = \"36-西番雅书\",\r\n               \"37-哈该书 | Haggai\"              = \"37-哈该书\",\r\n               \"38-撒迦利亚书 | Zechariah\"       = \"38-撒迦利亚书\",\r\n               \"39-玛拉基书 | Malachi\"           = \"39-玛拉基书\",\r\n               \"40-马太福音 | Matthew\"           = \"40-马太福音\",\r\n               \"41-马可福音 | Mark\"              = \"41-马可福音\",\r\n               \"42-路加福音 | Luke\"              = \"42-路加福音\",\r\n               \"43-约翰福音 | John\"              = \"43-约翰福音\",\r\n               \"44-使徒行传 | Acts\"              = \"44-使徒行传\",\r\n               \"45-罗马书 | Romans\"                       = \"45-罗马书\",\r\n               \"46-哥林多前书 | First Corinthians\"        = \"46-哥林多前书\",\r\n               \"47-哥林多后书 | Second Corinthians\"       = \"47-哥林多后书\",\r\n               \"48-加拉太书 | Galatians\"                  = \"48-加拉太书\",\r\n               \"49-以弗所书 | Ephesians\"                  = \"49-以弗所书\",\r\n               \"50-腓立比书 | Philippians\"                = \"50-腓立比书\",\r\n               \"51-歌罗西书 | Colossians\"                 = \"51-歌罗西书\",\r\n               \"52-帖撒罗尼迦前书 | First Thessalonians\"  = \"52-帖撒罗尼迦前书\",\r\n               \"53-帖撒罗尼迦后书 | Second Thessalonians\" = \"53-帖撒罗尼迦后书\",\r\n               \"54-提摩太前书 | First Timothy\"            = \"54-提摩太前书\",\r\n               \"55-提摩太后书 | Second Timothy\"           = \"55-提摩太后书\",\r\n               \"56-提多书 | Titus\"                        = \"56-提多书\",\r\n               \"57-腓利门书 | Philemon\"                   = \"57-腓利门书\",\r\n               \"58-希伯来书 | Hebrews\"                    = \"58-希伯来书\",\r\n               \"59-雅各书 | James\"                        = \"59-雅各书\",\r\n               \"60-彼得前书 | First Peter\"                = \"60-彼得前书\",\r\n               \"61-彼得后书 | Second Peter\"               = \"61-彼得后书\",\r\n               \"62-约翰一书 | First John\"                 = \"62-约翰一书\",\r\n               \"63-约翰二书 | second John\"                = \"63-约翰二书\",\r\n               \"64-约翰三书 | Third John\"                 = \"64-约翰三书\",\r\n               \"65-犹大书 | Jude\"                         = \"65-犹大书\",\r\n               \"66-启示录 | Revelation\"                   = \"66-启示录\"\r\n               )\r\nshinyApp(\r\n  \r\n  server = function(input, output,session) {\r\n  \r\n    data2 <- reactive({\r\n      read_sheet(\"https://docs.google.com/spreadsheets/d/1RDLRFS7o2lSLsIRJAjd-cVXQDt_Q1XiDxIQ_ZC6_VDs/edit?usp=sharing\", sheet = input$bok)\r\n         })\r\n    \r\n  #        max_chap <- as.numeric(bok_indx[bok_indx$BookTab==input$bok,]$Total_Chapters)\r\n  #        max_vers <- as.numeric(bok_indx[bok_indx$BookTab==input$bok,]$Verse_Max)\r\n  \r\n    # Filter data based on selections\r\n    output$table <- DT::renderDataTable(DT::datatable({\r\n      \r\n      data3 <- data2()\r\n      \r\n      if (input$chap != \"All\") {\r\n        data3 <- data3[data3$Chapter == input$chap,]\r\n      }\r\n      if (input$vers != \"All\") {\r\n        data3 <- data3[data3$Verse == input$vers,]\r\n      }\r\n      data3\r\n    }))\r\n  },\r\n  \r\n  ui = fluidPage(\r\n    titlePanel(\"圣经章节引对-Bible Chapters Verses Ref\"),\r\n    \r\n    # Create a new Row in the UI for selectInputs\r\n    fluidRow(\r\n      column(4,\r\n             selectInput(\"bok\",\r\n                         \"Book:\",\r\n                         books)\r\n      ),\r\n      column(4,\r\n             selectInput(\"chap\",\r\n                         \"Chapter:\",\r\n                         c(\"All\",1:50))\r\n      ),\r\n      column(4,\r\n             selectInput(\"vers\",\r\n                         \"Verse:\",\r\n                         c(\"All\",1:67))\r\n      )\r\n    ),\r\n    # Create a new row for the table.\r\n    DT::dataTableOutput(\"table\")\r\n  )\r\n)\r\n\r\nshinylive::export(appdir=\"bible_list_app\",destdir=\"docs\")\r\n","type":"text"}]
